"use strict";(self.webpackChunkmlm_portal_frontend=self.webpackChunkmlm_portal_frontend||[]).push([[520],{7520:(et,M,s)=>{s.r(M),s.d(M,{DashboardModule:()=>Xe});var p=s(6895),m=s(9299),I=s(3900),Z=s(9646),e=s(4650),f=s(629);let N=(()=>{class n{constructor(t,a){this._authService=t,this._router=a}canActivate(t,a){return this._check("/sign-out"===a.url?"/":a.url)}canActivateChild(t,a){return this._check("/sign-out"===a.url?"/":a.url)}canLoad(t,a){return this._check("/")}_check(t){return this._authService.isTokenAvailable().pipe((0,I.w)(a=>a?(0,Z.of)(!0):(this._router.navigate(["/auth/login"],{queryParams:{redirectURL:t}}),(0,Z.of)(!1))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.e),e.LFG(m.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=s(7579),d=s(2722),k=s(6207),b=s(4859),O=s(3683),P=s(7392),T=s(3267),S=s(4633),y=s(1561);function q(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.user.name)}}function J(n,r){if(1&n&&(e.TgZ(0,"a",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("routerLink",t.routerLink),e.xp6(1),e.Oqu(t.label)}}let Q=(()=>{class n{constructor(t,a,o){this._router=t,this.authService=a,this._fuseMediaWatcherService=o,this.isScreenSmall=!1,this._unsubscribeAll=new _.x,this.user={},this.navLinks=[{routerLink:"/dashboard/home",label:"Home"},{routerLink:"/dashboard/my-users",label:"My Users"},{routerLink:"/dashboard/plans",label:"Plans"}]}ngOnInit(){this.user=this.authService.user,this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{this.isScreenSmall=!t.includes("md")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}logout(){localStorage.clear(),this.authService.signOut().pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{this._router.navigate(["/auth/login"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.F0),e.Y36(f.e),e.Y36(k.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:24,vars:5,consts:[["color","primary",1,"text-white"],["mat-icon-button","",3,"click"],["href","../index.html"],[1,"flex-1"],["mat-flat-button","",1,"profile-button",3,"matMenuTriggerFor"],[1,"flex","items-center"],[1,"profile-icon","mr-[10px]"],[4,"ngIf"],["profileMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"sidebar-container"],["opened","","mode","side",3,"mode","opened"],["drawer",""],["mat-list-item","","class","side-nav-link","routerLinkActive","router-link-active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","router-link-active",1,"side-nav-link",3,"routerLink"]],template:function(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"mat-toolbar",0)(1,"button",1),e.NdJ("click",function(){e.CHM(o);const u=e.MAs(19);return e.KtG(u.toggle())}),e.TgZ(2,"mat-icon"),e._uU(3,"menu"),e.qZA()(),e.TgZ(4,"a",2)(5,"span"),e._uU(6,"EasyEarn"),e.qZA()(),e._UZ(7,"span",3),e.TgZ(8,"button",4)(9,"div",5)(10,"mat-icon",6),e._uU(11,"person"),e.qZA(),e.YNc(12,q,2,1,"span",7),e.qZA()(),e.TgZ(13,"mat-menu",null,8)(15,"button",9),e.NdJ("click",function(){return a.logout()}),e._uU(16,"Logout"),e.qZA()()(),e.TgZ(17,"mat-sidenav-container",10)(18,"mat-sidenav",11,12)(20,"mat-nav-list"),e.YNc(21,J,2,2,"a",13),e.qZA()(),e.TgZ(22,"mat-sidenav-content"),e._UZ(23,"router-outlet"),e.qZA()()}if(2&t){const o=e.MAs(14);e.xp6(8),e.Q6J("matMenuTriggerFor",o),e.xp6(4),e.Q6J("ngIf",null==a.user?null:a.user.name),e.xp6(6),e.Q6J("mode",a.isScreenSmall?"over":"side")("opened",!a.isScreenSmall),e.xp6(3),e.Q6J("ngForOf",a.navLinks)}},dependencies:[p.sg,p.O5,b.lW,O.Ye,P.Hw,T.JX,T.TM,T.Rh,S.Hk,S.Tg,y.VK,y.OP,y.p6,m.lC,m.yS,m.Od],styles:[".sidebar-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 64px);background-color:transparent}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#2b2b2b}.side-nav-link[_ngcontent-%COMP%]{border-right:5px solid transparent}.router-link-active[_ngcontent-%COMP%]{background-color:var(--mlm-primary)!important;border-right-color:#fff}.profile-button[_ngcontent-%COMP%]{background-color:transparent;border:none}.profile-icon[_ngcontent-%COMP%]{color:#fff}mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#efefef}@media only screen and (max-width: 600px){.sidebar-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 56px)}}"]}),n})();var R=s(7127),v=s(7087),C=s(9991),w=s(1059),l=s(3546);function L(n,r){if(1&n&&(e.TgZ(0,"h1",10),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("\u20b9 ",t.form.balance,"")}}function j(n,r){if(1&n&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("* withdraw will be enable when you reach at \u20b9 ",t.withdrawal_limit,"")}}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.withdraw())}),e._uU(1,"Withdraw Request"),e.qZA()}}function B(n,r){if(1&n&&(e.TgZ(0,"mat-card",3)(1,"mat-card-title"),e._uU(2,"Your Referral Code"),e.qZA(),e.TgZ(3,"mat-card-content",4)(4,"h1",13),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(null==t.form?null:t.form.referral_code)}}let E=(()=>{class n{constructor(t,a,o,i){this.authService=t,this.loader=a,this.purchaseService=o,this.snackbarService=i,this.form={bank_account:null,balance:0,referral_code:null},this.withdrawal_limit=R.s.withdrawLimit,this._unsubscribeAll=new _.x,this.bank_searchQuery="",this.accounts=[{name:"John Doe",number:"1234567890"},{name:"Jane Doe",number:"0987654321"},{name:"Bob Smith",number:"2468101214"},{name:"Alice Johnson",number:"3691215182"},{name:"David Lee",number:"4812162022"},{name:"David Lee",number:"4812162022"},{name:"David Lee",number:"4812162022"},{name:"David Lee",number:"4812162022"},{name:"David Lee",number:"4812162022"},{name:"David Lee",number:"4812162022"}],this.loader.open(),this.authService.getUserDetail().pipe((0,d.R)(this._unsubscribeAll)).subscribe(u=>{if(u){const{result:h}=u;this.authService.user=h,this.form.balance=this.authService.user.account_balance,this.form.referral_code=this.authService.user.referral_code}this.loader.close()})}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}withdraw(){this.loader.open(),this.purchaseService.sendWithdrawalRequest().pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{t&&this.snackbarService.showSuccess("Your balance withdrawal request has been sent."),this.loader.close()},t=>{console.log("error",t),this.snackbarService.showError("Please try again."),this.loader.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.e),e.Y36(v.D),e.Y36(C.B),e.Y36(w.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:4,consts:[[1,"lg:p-5","sm:p-3"],[1,"grid","xl:grid-cols-3","lg:grid-cols-3","md:grid-cols-2","sm:grid-cols-2","xs:grid-cols-1","gap-3"],[1,"col-span-1"],[1,"white-card","overflow-hidden","text-center"],[1,"text-center"],["class","text-4xl font-bold text-primary",4,"ngIf"],[1,"flex","items-center","justify-center","mt-5"],["class","text-xs text-center",4,"ngIf"],["mat-raised-button","","color","primary","class","w-full text-white flex-shrink-0 ",3,"click",4,"ngIf"],["class","white-card  overflow-hidden  text-center",4,"ngIf"],[1,"text-4xl","font-bold","text-primary"],[1,"text-xs","text-center"],["mat-raised-button","","color","primary",1,"w-full","text-white","flex-shrink-0",3,"click"],[1,"text-4xl","font-normal","text-primary"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title"),e._uU(5,"Your Account Balance"),e.qZA(),e.TgZ(6,"mat-card-content",4),e.YNc(7,L,2,1,"h1",5),e.TgZ(8,"div",6),e.YNc(9,j,2,1,"p",7),e.YNc(10,F,2,0,"button",8),e.qZA()()()(),e.TgZ(11,"div",2),e.YNc(12,B,6,1,"mat-card",9),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",null!=a.form.balance&&null!=a.form.balance),e.xp6(2),e.Q6J("ngIf",a.form.balance<a.withdrawal_limit),e.xp6(1),e.Q6J("ngIf",a.form.balance>=a.withdrawal_limit),e.xp6(2),e.Q6J("ngIf",a.form.referral_code))},dependencies:[p.O5,b.lW,l.a8,l.dn,l.n5]}),n})();var c=s(7155),H=s(529),G=s(8613),W=s(7974),D=s(6308);function z(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Full Name "),e.qZA())}function $(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function V(n,r){1&n&&(e.TgZ(0,"th",33),e._uU(1," Email"),e.qZA())}function X(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function K(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Phone Number"),e.qZA())}function ee(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.phone_number," ")}}function te(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Email Verified"),e.qZA())}function ne(n,r){1&n&&(e.TgZ(0,"span",36),e._uU(1,"Verified"),e.qZA())}function ae(n,r){1&n&&(e.TgZ(0,"span",37),e._uU(1,"Not Verified"),e.qZA())}function re(n,r){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,ne,2,0,"span",34),e.YNc(2,ae,2,0,"span",35),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.is_verified),e.xp6(1),e.Q6J("ngIf",0==t.is_verified)}}function oe(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Transaction Verified"),e.qZA())}function se(n,r){1&n&&(e.TgZ(0,"span",36),e._uU(1,"Verified"),e.qZA())}function ie(n,r){1&n&&(e.TgZ(0,"span",40),e._uU(1,"Not Verified"),e.qZA())}function le(n,r){1&n&&(e.TgZ(0,"span",37),e._uU(1,"---"),e.qZA())}function ce(n,r){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,se,2,0,"span",34),e.YNc(2,ie,2,0,"span",38),e.YNc(3,le,2,0,"span",39),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==(null==t||null==t.transaction?null:t.transaction.is_verified)),e.xp6(1),e.Q6J("ngIf",0==(null==t||null==t.transaction?null:t.transaction.is_verified)),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.transaction&&t.transaction.is_verified))}}function ue(n,r){1&n&&(e.TgZ(0,"th",41),e._uU(1," Balance "),e.qZA())}function pe(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" \u20b9 ",t.account_balance," ")}}function me(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Plan"),e.qZA())}function de(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("\u20b9 ",null==t||null==t.transaction||null==t.transaction.plan?null:t.transaction.plan.amount,"")}}function he(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function fe(n,r){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,de,2,1,"span",42),e.YNc(2,he,2,0,"span",42),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.transaction||null==t.transaction.plan?null:t.transaction.plan.amount),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.transaction&&null!=t.transaction.plan&&t.transaction.plan.amount))}}function ge(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Status"),e.qZA())}function _e(n,r){1&n&&(e.TgZ(0,"span",36),e._uU(1,"Valid"),e.qZA())}function xe(n,r){1&n&&(e.TgZ(0,"span",44),e._uU(1,"Blocked"),e.qZA())}function be(n,r){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,_e,2,0,"span",34),e.YNc(2,xe,2,0,"span",43),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.status),e.xp6(1),e.Q6J("ngIf",0==t.status)}}function ve(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Referral Code"),e.qZA())}function Ze(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.referral_code," ")}}function Te(n,r){if(1&n&&(e.TgZ(0,"tr",45)(1,"td",46),e._uU(2," No data found. "),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",t.displayedColumns.length)}}function ye(n,r){1&n&&e._UZ(0,"tr",47)}function Ce(n,r){1&n&&e._UZ(0,"tr",48)}const we=function(){return[1,5,10,25,50,100,250]};let Ae=(()=>{class n{constructor(t,a,o){this._http=t,this.userService=a,this.loader=o,this._unsubscribeAll=new _.x,this.displayedColumns=["name","email","phone_number","referral_code","is_verified","transaction_verified","account_balance","plan_amount","status"],this.isLoading=!1,this.pagination={length:0,page:0,size:25},this.dataSource=new c.by,this.sortObj={},this.filterObj={field:"",operator:"",value:""}}ngOnInit(){this.getMyUsers()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageChange(t){return this.isLoading=!0,this.getMyUsers(t.pageIndex,t.pageSize,this.sortObj?.active,this.sortObj?.direction,this.filterObj)}sortData(t){return this.isLoading=!0,this.sortObj.active=t.active,this.sortObj.direction=t.direction,this.getMyUsers(this.pagination.page,this.pagination.size,this.sortObj?.active,this.sortObj?.direction,this.filterObj)}getMyUsers(t=0,a=25,o=null,i="asc",u=null){this.loader.open(),this.userService.getUsers(t,a,o,i,u).pipe((0,d.R)(this._unsubscribeAll)).subscribe(h=>{if(console.log("response",h),h){const{result:Ke,count:Y}=h;Y&&(this.pagination.length=Y),this.dataSource.data=Ke}this.isLoading=!1,this.loader.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.eN),e.Y36(G.K),e.Y36(v.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-my-users"]],decls:48,vars:12,consts:[[1,"lg:p-5","sm:p-3"],[1,"white-card","px-[0px]","pb-0","overflow-hidden","custom-card"],[1,"flex","items-center","justify-between","px-[10px]","pb-[15px]"],["mat-card-title","",1,"mb-0"],[1,"flex","flex-col"],[1,"leading-3","mb-[5px]"],[1,"flex","items-center","justify-center"],[1,"text-slate-400","text-normal","text-sm","mr-[10px]"],[1,"text-sm"],[1,"mb-0","table-height"],[1,"table-container"],["mat-table","","matSort","",1,"w-full","white-table","custom-table",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","class","whitespace-nowrap",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap\t",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","class","whitespace-nowrap","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","phone_number"],["matColumnDef","is_verified"],["matColumnDef","transaction_verified"],["mat-cell","","class","whitespace-nowrap",4,"matCellDef"],["matColumnDef","account_balance"],["mat-header-cell","","class","whitespace-nowrap","mat-sort-header","account_balance",4,"matHeaderCellDef"],["matColumnDef","plan_amount"],["matColumnDef","status"],["matColumnDef","referral_code"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","","class","compact-header",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","compact-cell-row",4,"matRowDef","matRowDefColumns"],[1,"m-0","rounded-b-sm","overflow-hidden","bg-white","text-black"],[1,"bg-white","white-paginator",3,"disabled","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],["mat-header-cell","",1,"whitespace-nowrap"],["mat-cell","",1,"whitespace-nowrap"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],["class","bg-green-100 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full  text-green-600",4,"ngIf"],["class","bg-gray-200 text-gray-400 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full ",4,"ngIf"],[1,"bg-green-100","text-xs","font-medium","mr-2","px-2.5","py-0.5","rounded-full","text-green-600"],[1,"bg-gray-200","text-gray-400","text-xs","font-medium","mr-2","px-2.5","py-0.5","rounded-full"],["class","bg-red-200 text-red-400 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full ",4,"ngIf"],["class","bg-gray-200 text-gray-400 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full",4,"ngIf"],[1,"bg-red-200","text-red-400","text-xs","font-medium","mr-2","px-2.5","py-0.5","rounded-full"],["mat-header-cell","","mat-sort-header","account_balance",1,"whitespace-nowrap"],[4,"ngIf"],["class","bg-red-100 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full  text-red-600",4,"ngIf"],[1,"bg-red-100","text-xs","font-medium","mr-2","px-2.5","py-0.5","rounded-full","text-red-600"],[1,"mat-row"],[1,"mat-cell"],["mat-header-row","",1,"compact-header"],["mat-row","",1,"compact-cell-row"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6,"Users"),e.qZA(),e.TgZ(7,"div",6)(8,"span",7),e._uU(9,"Total User:"),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.qZA()()()(),e._UZ(12,"div"),e.qZA(),e.TgZ(13,"mat-card-content",9)(14,"div",10)(15,"table",11),e.NdJ("matSortChange",function(i){return a.sortData(i)}),e.ynx(16,12),e.YNc(17,z,2,0,"th",13),e.YNc(18,$,2,1,"td",14),e.BQk(),e.ynx(19,15),e.YNc(20,V,2,0,"th",16),e.YNc(21,X,2,1,"td",14),e.BQk(),e.ynx(22,17),e.YNc(23,K,2,0,"th",13),e.YNc(24,ee,2,1,"td",14),e.BQk(),e.ynx(25,18),e.YNc(26,te,2,0,"th",13),e.YNc(27,re,3,2,"td",14),e.BQk(),e.ynx(28,19),e.YNc(29,oe,2,0,"th",13),e.YNc(30,ce,4,3,"td",20),e.BQk(),e.ynx(31,21),e.YNc(32,ue,2,0,"th",22),e.YNc(33,pe,2,1,"td",20),e.BQk(),e.ynx(34,23),e.YNc(35,me,2,0,"th",13),e.YNc(36,fe,3,2,"td",20),e.BQk(),e.ynx(37,24),e.YNc(38,ge,2,0,"th",13),e.YNc(39,be,3,2,"td",14),e.BQk(),e.ynx(40,25),e.YNc(41,ve,2,0,"th",13),e.YNc(42,Ze,2,1,"td",14),e.BQk(),e.YNc(43,Te,3,1,"tr",26),e.YNc(44,ye,1,0,"tr",27),e.YNc(45,Ce,1,0,"tr",28),e.qZA()()(),e.TgZ(46,"mat-card-footer",29)(47,"mat-paginator",30),e.NdJ("page",function(i){return a.pageChange(i)}),e.qZA()()()()),2&t&&(e.xp6(11),e.Oqu(a.pagination.length),e.xp6(4),e.Q6J("dataSource",a.dataSource),e.xp6(29),e.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(2),e.Q6J("disabled",a.isLoading)("length",null==a.pagination?null:a.pagination.length)("pageIndex",null==a.pagination?null:a.pagination.page)("pageSize",null==a.pagination?null:a.pagination.size)("pageSizeOptions",e.DdM(11,we))("showFirstLastButtons",!0))},dependencies:[p.O5,l.a8,l.dk,l.dn,l.n5,l.rt,W.NW,D.YE,D.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee]}),n})();var x=s(5412);const Ue=JSON.parse('{"type":"object","properties":{"upi":{"type":"string","minLength":1,"errorMessage":{"minLength":"UPI ID is required."}},"utr":{"type":"string","minLength":1,"errorMessage":{"minLength":"UTR Number is required."}},"account_holder_name":{"type":"string","minLength":1,"errorMessage":{"minLength":"Account holder name is required."}},"bank_account_number":{"type":"number","minLength":1,"errorMessage":{"minLength":"Bank account number is required."}},"ifsc_code":{"type":"string","minLength":1,"errorMessage":{"minLength":"IFSC code is required."}},"plan_id":{"type":"string","minLength":1,"errorMessage":{"minLength":"Plan Id is required."}}},"required":["upi","utr","account_holder_name","bank_account_number","ifsc_code","plan_id"],"additionalProperties":false}');var Me=s.t(Ue,2),Ne=s(4411),Pe=s.n(Ne),Se=s(6474),De=s.n(Se),Ye=s(6892),Ie=s.n(Ye),g=s(4006),ke=s(9549),Oe=s(4144);const A=new(Pe())({$data:!0,allErrors:!0});De()(A),Ie()(A);const U=A.compile(Me);let qe=(()=>{class n{constructor(t,a,o,i,u){this.dialogRef=t,this.data=a,this.purchaseService=o,this._snackbarService=i,this.loader=u,this.form={upi:"",utr:"",account_holder_name:null,bank_account_number:null,ifsc_code:null,plan_amount:null,plan_id:null},this.errors={},this._unsubscribeAll=new _.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}get planName(){return this.data.plan.plan_name}get planAmount(){return this.data.plan.amount}get planQR(){return this.data.plan.qr}closeDialog(t){this.dialogRef.close(t)}purchasePlan(){try{this.form.plan_id=this.data.plan.plan_id;const t=JSON.parse(JSON.stringify(this.form));if(delete t.plan_amount,U(t)){this.loader.open(),this.errors={};let o=Object.assign({},t);this.purchaseService.staticPurchase(o).pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{i&&this.closeDialog(i),this.loader.close()},i=>{console.log("error",i),i?.error?.message&&this._snackbarService.showError(i?.error?.message,"",6),this.loader.close()})}else this.errors={},console.log("validator.errors",U.errors),U.errors?.map(o=>{this.errors[o.instancePath]=o.message}),this._snackbarService.showError("Please enter a valid details.")}catch(t){this._snackbarService.showError(t.message),this.loader.close()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.so),e.Y36(x.WI),e.Y36(C.B),e.Y36(w.o),e.Y36(v.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-plan-purchase-modal"]],decls:58,vars:20,consts:[["mat-dialog-title","",1,"flex","items-center","justify-between","border-b","p-[15px]","mb-0"],[1,"flex","flex-col"],[1,"text-xs","text-slate-400"],["mat-button","",1,"border","border-md","rounded-md","mr-3",3,"click"],["mat-flat-button","","type","button","color","primary","tabindex","4",1,"text-white",3,"click"],["mat-dialog-content","",1,"p-[15px]","m-0","modal-content"],[1,"grid","xl:grid-cols-4","lg:grid-cols-4","md:grid-cols-2","sm:grid-cols-1","xs:grid-cols-1","gap-4"],[1,"flex","items-center","justify-center","flex-col"],[1,"text-sm"],[1,"max-w-[180px]","m-[10px]",3,"src"],[1,"flex","items-center","mt-[30px]","flex-col"],["tabindex","0","appearance","outline",1,"w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","placeholder","Enter UPI Id",1,"text-slate-900",3,"ngModel","ngModelChange"],["tabindex","1","appearance","outline",1,"mt-[10px]","w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","placeholder","Enter Transaction Id or Reference number",1,"text-slate-900",3,"ngModel","ngModelChange"],["tabindex","2","appearance","outline",1,"w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","type","text","placeholder","Enter bank account holder number",1,"text-slate-900",3,"ngModel","ngModelChange"],["tabindex","2","appearance","outline",1,"mt-[10px]","w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","type","number","placeholder","Enter bank account number",1,"text-slate-900",3,"ngModel","ngModelChange"],["tabindex","3","appearance","outline",1,"mt-[10px]","w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","placeholder","Enter IFSC code",1,"text-slate-900",3,"ngModel","ngModelChange"],["appearance","outline",1,"w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","disabled","","placeholder","Enter Package Name",1,"text-slate-900",3,"value"],["appearance","outline",1,"mt-[10px]","w-full","no-error-spacing","compact-input","white-theme","text-sm"],["matInput","","disabled","","placeholder","Amount",1,"text-slate-900",3,"value"],[1,"font-extrabold","mt-[20px]"],[1,"text-xs","mt-[10px]"]],template:function(t,a){1&t&&(e.TgZ(0,"h2",0)(1,"div",1)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",2),e._uU(5,"(Excluding GST)"),e.qZA()(),e.TgZ(6,"div")(7,"button",3),e.NdJ("click",function(){return a.closeDialog(!1)}),e._uU(8," close "),e.qZA(),e.TgZ(9,"button",4),e.NdJ("click",function(){return a.purchasePlan()}),e._uU(10,"Purchase"),e.qZA()()(),e.TgZ(11,"div",5)(12,"div",6)(13,"div",7)(14,"p",8),e._uU(15,"(Scan To Pay)"),e.qZA(),e._UZ(16,"img",9),e.qZA(),e.TgZ(17,"div",10)(18,"mat-form-field",11)(19,"span"),e._uU(20,"UPI ID *"),e.qZA(),e.TgZ(21,"input",12),e.NdJ("ngModelChange",function(i){return a.form.upi=i}),e.qZA()(),e.TgZ(22,"mat-form-field",13)(23,"span"),e._uU(24,"UTR Number (Transaction ID) *"),e.qZA(),e.TgZ(25,"input",14),e.NdJ("ngModelChange",function(i){return a.form.utr=i}),e.qZA()()(),e.TgZ(26,"div",10)(27,"mat-form-field",15)(28,"span"),e._uU(29,"Bank Account Holder Number *"),e.qZA(),e.TgZ(30,"input",16),e.NdJ("ngModelChange",function(i){return a.form.account_holder_name=i}),e.qZA()(),e.TgZ(31,"mat-form-field",17)(32,"span"),e._uU(33,"Bank Account Number *"),e.qZA(),e.TgZ(34,"input",18),e.NdJ("ngModelChange",function(i){return a.form.bank_account_number=i}),e.qZA()(),e.TgZ(35,"mat-form-field",19)(36,"span"),e._uU(37,"IFSC Code *"),e.qZA(),e.TgZ(38,"input",20),e.NdJ("ngModelChange",function(i){return a.form.ifsc_code=i}),e.qZA()()(),e.TgZ(39,"div",10)(40,"mat-form-field",21)(41,"span"),e._uU(42,"Package"),e.qZA(),e._UZ(43,"input",22),e.qZA(),e.TgZ(44,"mat-form-field",23)(45,"span"),e._uU(46,"Amount (Including "),e.TgZ(47,"b"),e._uU(48,"18%"),e.qZA(),e._uU(49," GST)"),e.qZA(),e._UZ(50,"input",24),e.qZA()()(),e.TgZ(51,"span",25),e._uU(52,"Note: "),e.qZA(),e.TgZ(53,"ol")(54,"li",26),e._uU(55," We are currently in the process of automated payment verification gateway, which means that your transaction will require manual verification. Rest assured, we will attend to your request promptly and provide you with a response within 24 hours. Thank you for your understanding and patience as we work to improve our services. "),e.qZA(),e.TgZ(56,"li",26),e._uU(57," During Manual Varification, you will get withdrawal on your UPI or in Your bank account directly. "),e.qZA()()()),2&t&&(e.xp6(3),e.AsE("",a.planName," - \u20b9 ",a.planAmount,""),e.xp6(13),e.Q6J("src",a.planQR,e.LSH),e.xp6(2),e.ekj("mat-error",a.errors["/upi"]),e.xp6(3),e.Q6J("ngModel",a.form.upi),e.xp6(1),e.ekj("mat-error",a.errors["/utr"]),e.xp6(3),e.Q6J("ngModel",a.form.utr),e.xp6(2),e.ekj("mat-error",a.errors["/account_holder_name"]),e.xp6(3),e.Q6J("ngModel",a.form.account_holder_name),e.xp6(1),e.ekj("mat-error",a.errors["/bank_account_number"]),e.xp6(3),e.Q6J("ngModel",a.form.bank_account_number),e.xp6(1),e.ekj("mat-error",a.errors["/ifsc_code"]),e.xp6(3),e.Q6J("ngModel",a.form.ifsc_code),e.xp6(5),e.Q6J("value",a.planName),e.xp6(7),e.s9C("value","\u20b9 "+1.18*a.planAmount))},dependencies:[g.Fj,g.wV,g.JJ,g.On,b.lW,ke.KE,Oe.Nt,x.uh,x.xY],styles:[".modal-content[_ngcontent-%COMP%]{max-height:calc(100% - 80px);border:none!important}"]}),n})();var Je=s(4385),Qe=s(3238);function Re(n,r){if(1&n&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE(" ",t.plan_name," - (\u20b9 ",t.amount,") ")}}function Le(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",4)(1,"mat-card-content",5)(2,"h1",6),e._uU(3," Welcome to Easy Earn! "),e.qZA(),e.TgZ(4,"p",7),e._uU(5,"Purchase Plan"),e.qZA(),e.TgZ(6,"div",8)(7,"mat-select",9),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.form.plan=o)}),e.YNc(8,Re,2,3,"mat-option",10),e.qZA(),e.TgZ(9,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.purchase(o.form.plan.plan_id))}),e._uU(10,"Purchase"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.form.plan)("compareWith",t.compareFn),e.xp6(1),e.Q6J("ngForOf",t.plans)}}function je(n,r){1&n&&(e.TgZ(0,"mat-card",13)(1,"mat-card-content",14)(2,"mat-icon",15),e._uU(3,"thumb_up"),e.qZA(),e.TgZ(4,"p",16),e._uU(5," We have received your purchase request and will review it within 24 hours to approve your payment. Once approved, you can refer others to our services. "),e.qZA()()())}function Fe(n,r){1&n&&(e.TgZ(0,"mat-card",4)(1,"mat-card-content",14)(2,"p",17),e._uU(3," We're writing to confirm that the plan has been successfully purchased. "),e.qZA()()())}let Be=(()=>{class n{constructor(t,a,o,i,u,h){this.snackbarService=t,this._activatedRoute=a,this._dialog=o,this._purchaseService=i,this.authService=u,this.loader=h,this.plans=[],this.form={plan:null},this.user_pro_status="NOT_PRO",this._unsubscribeAll=new _.x}ngOnInit(){if(this._activatedRoute?.snapshot?.data.userResponse.result){this.authService.user=this._activatedRoute?.snapshot?.data.userResponse.result;const t=this.authService?.user;this.user_pro_status="payment_verification_pending"in t?"PENDING":t?.transaction&&t?.transaction_id?"PRO":"NOT_PRO"}if("NOT_PRO"==this.user_pro_status){this.getPlanList();const t=this._activatedRoute.snapshot.queryParamMap.get("planId");t&&this.purchase(+t)}else this.snackbarService.showInfo("PENDING"==this.user_pro_status?"Your transaction is in pending verification.":"You are already purchase your first plan.","X",3)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getPlanList(){this.loader.open(),this._purchaseService.getPlans().pipe((0,d.R)(this._unsubscribeAll)).subscribe(t=>{if(t){const{result:a}=t;this.plans=a}this.loader.close()})}purchase(t){if(!t)return void this.snackbarService.showError("Please select a plan");const a=this.plans.find(o=>o.plan_id===t);a&&(this.form.plan=a,this._dialog.open(qe,{data:{plan:a},panelClass:["w-full","h-full","max-w-none","white-modal","p-0"],hasBackdrop:!0,disableClose:!1,width:"500px"}).afterClosed().pipe((0,d.R)(this._unsubscribeAll)).subscribe(i=>{console.log(i),i&&(this.user_pro_status="PENDING")}))}compareFn(t,a){return t&&a?t.plan_id===a.plan_id:t===a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.o),e.Y36(m.gz),e.Y36(x.uw),e.Y36(C.B),e.Y36(f.e),e.Y36(v.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-plan"]],decls:5,vars:3,consts:[[1,"lg:p-5","sm:p-3"],[1,"flex","items-center","justify-center"],["class","white-card overflow-hidden text-center p-[20px] flex-shrink-0",4,"ngIf"],["class","white-card max-w-full overflow-hidden text-center p-[20px] flex-shrink-0",4,"ngIf"],[1,"white-card","overflow-hidden","text-center","p-[20px]","flex-shrink-0"],[1,"text-center"],[1,"text-4xl","font-bold","text-primary"],[1,"text-slate-500"],[1,"flex","items-center","mt-5"],["placeholder","Select Plan",1,"w-full","p-2","mr-5","border","rounded-md","no-error-spacing","white-select",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"text-white","flex-shrink-0",3,"click"],[3,"value"],[1,"white-card","max-w-full","overflow-hidden","text-center","p-[20px]","flex-shrink-0"],[1,"text-center","p-[30px]"],["color","primary",1,"mb-[20px]","w-[100px]","text-[30px]","h-[30px]"],[1,"font-normal"],[1,"font-semibold","text-primary"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Le,11,3,"mat-card",2),e.YNc(3,je,6,0,"mat-card",3),e.YNc(4,Fe,4,0,"mat-card",2),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf","NOT_PRO"==a.user_pro_status),e.xp6(1),e.Q6J("ngIf","PENDING"==a.user_pro_status),e.xp6(1),e.Q6J("ngIf","PRO"==a.user_pro_status))},dependencies:[p.sg,p.O5,g.JJ,g.On,b.lW,Je.gD,Qe.ey,P.Hw,l.a8,l.dn]}),n})();var Ee=s(262);let He=(()=>{class n{constructor(t){this._authService=t}resolve(t,a){return this._authService.getUserDetail().pipe((0,Ee.K)(o=>(0,Z.of)(null)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ge(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.user?null:t.user.name)}}function We(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"There,"),e.qZA())}const ze=[{path:"",canActivate:[N],canActivateChild:[N],component:Q,children:[{path:"home",component:E},{path:"profile",component:(()=>{class n{constructor(t){this.authService=t,this.user={}}ngOnInit(){this.user=this.authService.user}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:11,vars:2,consts:[[1,"lg:p-5","sm:p-3"],[1,"grid","xl:grid-cols-2","lg:grid-cols-2","md:grid-cols-2","sm:grid-cols-2","xs:grid-cols-1","gap-3"],[1,"col-span-1"],[1,"white-card","overflow-hidden","text-center"],[1,"text-left"],[4,"ngIf"],[1,"text-center"],[1,"text-black","mt-[100px]","mb-[100px]"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-title",4),e._uU(5,"Hello "),e.YNc(6,Ge,2,1,"span",5),e.YNc(7,We,2,0,"span",5),e.qZA(),e.TgZ(8,"mat-card-content",6)(9,"h5",7),e._uU(10,"Comming Soon..."),e.qZA()()()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",null==a.user?null:a.user.name),e.xp6(1),e.Q6J("ngIf",!(null!=a.user&&a.user.name)))},dependencies:[p.O5,l.a8,l.dn,l.n5]}),n})()},{path:"my-users",component:Ae},{path:"plans",component:Be,resolve:{userResponse:He}},{path:"**",redirectTo:"home"}]}];let $e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(ze),m.Bz]}),n})();var Ve=s(4326);let Xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,Ve.m,$e]}),n})()}}]);