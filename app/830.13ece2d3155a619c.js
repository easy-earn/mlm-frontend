"use strict";(self.webpackChunkmlm_portal_frontend=self.webpackChunkmlm_portal_frontend||[]).push([[830],{6830:(tt,P,a)=>{a.r(P),a.d(P,{AuthModule:()=>et});var l=a(6895),p=a(9299),d=a(6574),u=a(7127),_=a(7579),m=a(2722);const F=JSON.parse('{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":3,"errorMessage":{"format":"Invalid email format.","minLength":"Email is required."}},"otp":{"type":"string","minLength":1,"errorMessage":{"minLength":"OTP is required."}},"password":{"type":"string","minLength":2,"errorMessage":{"minLength":"Password is required."}},"cpassword":{"type":"string","const":{"$data":"1/password"},"errorMessage":{"const":"Passwords do not match."}}},"required":["email","otp","password","cpassword"],"additionalProperties":true}');var N=a.t(F,2),L=a(4411),f=a.n(L),j=a(6892),h=a.n(j),E=a(6474),v=a.n(E),e=a(4650),b=a(629),T=a(1059),c=a(4006),x=a(4859);function Q(o,i){1&o&&e.GkF(0)}function Y(o,i){1&o&&e.GkF(0)}function I(o,i){1&o&&e.GkF(0)}function D(o,i){1&o&&e.GkF(0)}const G=function(){return{key:"/otp"}},V=function(){return{key:"/password"}},R=function(){return{key:"/cpassword"}};function H(o,i){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",19)(2,"label"),e._uU(3,"One Time Password (OTP)"),e.qZA(),e.TgZ(4,"input",28),e.NdJ("ngModelChange",function(r){e.CHM(n);const s=e.oxw();return e.KtG(s.form.otp=r)}),e.qZA(),e.YNc(5,Y,1,0,"ng-container",21),e.qZA(),e.TgZ(6,"div",29)(7,"label"),e._uU(8,"Password"),e.qZA(),e.TgZ(9,"input",30),e.NdJ("ngModelChange",function(r){e.CHM(n);const s=e.oxw();return e.KtG(s.form.password=r)}),e.qZA(),e.YNc(10,I,1,0,"ng-container",21),e.qZA(),e.TgZ(11,"div",19)(12,"label"),e._uU(13,"Confirm Password"),e.qZA(),e.TgZ(14,"input",31),e.NdJ("ngModelChange",function(r){e.CHM(n);const s=e.oxw();return e.KtG(s.form.cpassword=r)}),e.qZA(),e.YNc(15,D,1,0,"ng-container",21),e.qZA(),e.TgZ(16,"div",29)(17,"div",32)(18,"span",33),e._uU(19," Don't get OTP? "),e.TgZ(20,"a",34),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.getEmailToRecoverPassword())}),e._uU(21,"Resend OTP"),e.qZA()()()(),e.BQk()}if(2&o){const n=e.oxw(),t=e.MAs(38);e.xp6(4),e.ekj("border-red-500",n.errors["/otp"]),e.Q6J("ngModel",n.form.otp),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(15,G)),e.xp6(4),e.ekj("border-red-500",n.errors["/password"]),e.Q6J("ngModel",n.form.password),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(16,V)),e.xp6(4),e.ekj("border-red-500",n.errors["/cpassword"]),e.Q6J("ngModel",n.form.cpassword),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(17,R))}}function W(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.getEmailToRecoverPassword())}),e._uU(1,"Recover Password"),e.qZA()}}function K(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.resetPassword())}),e._uU(1,"Reset"),e.qZA()}}function B(o,i){if(1&o&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&o){const n=e.oxw().key,t=e.oxw();e.xp6(1),e.hij(" ",t.errors[n]," ")}}function $(o,i){if(1&o&&e.YNc(0,B,2,1,"div",36),2&o){const n=i.key,t=e.oxw();e.Q6J("ngIf",t.errors&&t.errors[n])}}const z=function(){return{"background-image":"url(./assets/images/bg/login-bg.png)"}},X=function(){return{key:"/email"}},ee=function(){return["/auth/signup"]},Z=new(f())({$data:!0,allErrors:!0});v()(Z),h()(Z);const w=Z.compile(N);let te=(()=>{class o{constructor(n,t,r){this._authService=n,this._snackbarService=t,this.router=r,this.constant=u.s,this.form={email:"",otp:"",password:"",cpassword:""},this.isInitialEmailSent=!1,this._unsubscribeAll=new _.x,this.errors={}}ngOnInit(){}getEmailToRecoverPassword(){this.form?.email?this._authService.recoverPassword(this.form?.email).pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{n&&n?.message&&(this.isInitialEmailSent=!0,this._snackbarService.showSuccess(n?.message))},n=>{console.log("forgot password : error",n),n?.error?.message&&this._snackbarService.showError(n?.error?.message)}):this._snackbarService.showError("Email is required.")}resetPassword(){try{w(this.form)?(this.errors={},delete Object.assign({},this.form).cpassword,this._authService.resetPassword(this.form).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&r?.message&&(this._snackbarService.showSuccess(r?.message),this.router.navigate(["/auth/login"]))},r=>{console.log("error",r),r?.error?.message&&this._snackbarService.showError(r?.error?.message,"",6)})):(this.errors={},console.log("validator.errors",w.errors),w.errors?.map(t=>{this.errors[t.instancePath]=t.message}))}catch(n){this._snackbarService.showError(n.message)}}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(b.e),e.Y36(T.o),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-forgot-password"]],decls:39,vars:14,consts:[[1,"full-wh"],[1,"bg-animation"],["id","stars"],["id","stars2"],["id","stars3"],["id","stars4"],[1,"page-wrapper"],["data-background","assets/images/bg/bg-5.jpg",1,"account-section","bg_img"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-5","col-lg-7"],[1,"account-card"],[1,"account-card__header","bg_img","overlay--one",3,"ngStyle"],[1,"section-title"],["href","../index.html"],[1,"base--color"],[1,"account-card__body"],[1,"text-center"],[1,"mt-4"],[1,"form-group"],["type","text","name","email","placeholder","Enter email address",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"form-group","flex","items-center","justify-between","mt-[35px]"],["mat-flat-button","","color","primary","class","px-[35px] py-[7px]",3,"click",4,"ngIf"],[1,"text-md"],[1,"base--color",3,"routerLink"],["errorTemplate",""],["type","text","id","name","placeholder","Enter one time password","name","otp",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","relative"],["type","password","id","mlm-password","placeholder","Enter password","name","mpm-pwd",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","cpwd","placeholder","Enter confirm password",1,"form-control",3,"ngModel","ngModelChange"],[1,"flex","items-center"],[1,"text-sm","cursor-pointer","ml-[3px]"],[1,"text-primary","font-bold",3,"click"],["mat-flat-button","","color","primary",1,"px-[35px]","py-[7px]",3,"click"],["class","text-red-500 text-[10px] absolute",4,"ngIf"],[1,"text-red-500","text-[10px]","absolute"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"h2",13),e._uU(14,"Welcome to "),e.TgZ(15,"a",14)(16,"span",15),e._uU(17),e.qZA()()(),e.TgZ(18,"p"),e._uU(19,"Enter your email to reset your password."),e.qZA()(),e.TgZ(20,"div",16)(21,"h3",17),e._uU(22,"Recover Password"),e.qZA(),e.TgZ(23,"form",18)(24,"div",19)(25,"label"),e._uU(26,"Email"),e.qZA(),e.TgZ(27,"input",20),e.NdJ("ngModelChange",function(s){return t.form.email=s}),e.qZA(),e.YNc(28,Q,1,0,"ng-container",21),e.qZA(),e.YNc(29,H,22,18,"ng-container",22),e.TgZ(30,"div",23),e.YNc(31,W,2,0,"button",24),e.YNc(32,K,2,0,"button",24),e.TgZ(33,"p",25),e._uU(34,"Haven't an account? "),e.TgZ(35,"a",26),e._uU(36,"Sign Up"),e.qZA()()()()()()()()()()(),e.YNc(37,$,1,1,"ng-template",null,27,e.W1O)),2&n){const r=e.MAs(38);e.xp6(12),e.Q6J("ngStyle",e.DdM(11,z)),e.xp6(5),e.Oqu(t.constant.appName),e.xp6(10),e.ekj("border-red-500",t.errors["/email"]),e.Q6J("ngModel",t.form.email),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(12,X)),e.xp6(1),e.Q6J("ngIf",t.isInitialEmailSent),e.xp6(2),e.Q6J("ngIf",!t.isInitialEmailSent),e.xp6(1),e.Q6J("ngIf",t.isInitialEmailSent),e.xp6(3),e.Q6J("routerLink",e.DdM(13,ee))}},dependencies:[l.O5,l.tP,l.PC,p.yS,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,x.lW]}),o})();const ne=JSON.parse('{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":3,"errorMessage":{"format":"Invalid email format.","minLength":"Email is required."}},"password":{"type":"string","minLength":2,"errorMessage":{"minLength":"Password is required."}}},"required":["email","password"],"additionalProperties":true}');var oe=a.t(ne,2),C=a(7087);function re(o,i){1&o&&e.GkF(0)}function ie(o,i){1&o&&e.GkF(0)}const se=function(){return["/auth/verify-account"]};function ae(o,i){1&o&&(e.TgZ(0,"a",33),e._uU(1,"Verify Account"),e.qZA()),2&o&&e.Q6J("routerLink",e.DdM(1,se))}function ce(o,i){if(1&o&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&o){const n=e.oxw().key,t=e.oxw();e.xp6(1),e.hij(" ",t.errors[n]," ")}}function le(o,i){if(1&o&&e.YNc(0,ce,2,1,"div",34),2&o){const n=i.key,t=e.oxw();e.Q6J("ngIf",t.errors&&t.errors[n])}}const pe=function(){return{"background-image":"url(./assets/images/bg/login-bg.png)"}},me=function(){return{key:"/email"}},ge=function(){return{key:"/password"}},de=function(){return["/auth/forgot-password"]},ue=function(){return["/auth/signup"]},M=new(f())({$data:!0,allErrors:!0});v()(M),h()(M);const J=M.compile(oe);let _e=(()=>{class o{constructor(n,t,r,s,g){this._authService=n,this._snackbarService=t,this.router=r,this._activatedRoute=s,this.loader=g,this.constant=u.s,this.form={email:"",password:""},this._unsubscribeAll=new _.x,this.errors={},this.is_pending_account_verification=!1}ngOnInit(){}doLogin(n){if(J(this.form)){this.loader.open(),this.errors={};let r=Object.assign({},this.form);this._authService.signIn(r).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{if(s){s?.message&&this._snackbarService.showSuccess(s?.message),this.loader.close();const g=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/dashboard";this.router.navigateByUrl(g)}},s=>{console.log("error",s),s?.error?.message&&this._snackbarService.showError(s?.error?.message,"",6),this.is_pending_account_verification=0==s?.error?.error?.is_verified,this.loader.close()})}else this.errors={},J.errors?.map(r=>{this.errors[r.instancePath]=r.message}),this._snackbarService.showError("Please enter valid detail.")}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(b.e),e.Y36(T.o),e.Y36(p.F0),e.Y36(p.gz),e.Y36(C.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:50,vars:20,consts:[[1,"full-wh"],[1,"bg-animation"],["id","stars"],["id","stars2"],["id","stars3"],["id","stars4"],[1,"page-wrapper"],["data-background","assets/images/bg/bg-5.jpg",1,"account-section","bg_img"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-5","col-lg-7"],[1,"account-card"],[1,"account-card__header","bg_img","overlay--one",3,"ngStyle"],[1,"section-title"],["href","../index.html"],[1,"base--color"],[1,"account-card__body"],[1,"text-center"],[1,"mt-4"],[1,"form-group"],["type","text","name","mlm-login-email","placeholder","Enter user name",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","password","name","mlm-login-password","placeholder","Enter password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","flex","items-center","justify-between"],[1,"text-sm","cursor-pointer","ml-[3px]"],[1,"text-primary","font-bold",3,"routerLink"],["class","text-sm text-primary font-bold",3,"routerLink",4,"ngIf"],[1,"form-group","flex","items-center","justify-between","mt-[35px]"],["mat-flat-button","","color","primary",1,"px-[35px]","py-[7px]",3,"click"],[1,"text-md","flex","items-center"],[1,"mr-[3px]"],[1,"base--color",3,"routerLink"],["errorTemplate",""],[1,"text-sm","text-primary","font-bold",3,"routerLink"],["class","text-red-500 text-[10px] absolute",4,"ngIf"],[1,"text-red-500","text-[10px]","absolute"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"h2",13),e._uU(14,"Welcome to "),e.TgZ(15,"a",14)(16,"span",15),e._uU(17),e.qZA()()(),e.TgZ(18,"p"),e._uU(19,"Grow your business and track Your earnings. Connect your customers with us and earn more."),e.qZA()(),e.TgZ(20,"div",16)(21,"h3",17),e._uU(22,"Login"),e.qZA(),e.TgZ(23,"form",18)(24,"div",19)(25,"label"),e._uU(26,"User Name"),e.qZA(),e.TgZ(27,"input",20),e.NdJ("ngModelChange",function(s){return t.form.email=s}),e.qZA(),e.YNc(28,re,1,0,"ng-container",21),e.qZA(),e.TgZ(29,"div",19)(30,"label"),e._uU(31,"Password"),e.qZA(),e.TgZ(32,"input",22),e.NdJ("ngModelChange",function(s){return t.form.password=s}),e.qZA(),e.YNc(33,ie,1,0,"ng-container",21),e.qZA(),e.TgZ(34,"div",23)(35,"span",24),e._uU(36," Forgot Password? "),e.TgZ(37,"a",25),e._uU(38," Recover password"),e.qZA()(),e.YNc(39,ae,2,2,"a",26),e.qZA(),e.TgZ(40,"div",27)(41,"button",28),e.NdJ("click",function(){return t.doLogin(t.form)}),e._uU(42," Login Now "),e.qZA(),e.TgZ(43,"p",29)(44,"span",30),e._uU(45,"Haven't an account? "),e.qZA(),e.TgZ(46,"a",31),e._uU(47," Sign Up"),e.qZA()()()()()()()()()()(),e.YNc(48,le,1,1,"ng-template",null,32,e.W1O)),2&n){const r=e.MAs(49);e.xp6(12),e.Q6J("ngStyle",e.DdM(15,pe)),e.xp6(5),e.Oqu(t.constant.appName),e.xp6(10),e.ekj("border-red-500",t.errors["/email"]),e.Q6J("ngModel",t.form.email),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(16,me)),e.xp6(4),e.ekj("border-red-500",t.errors["/password"]),e.Q6J("ngModel",t.form.password),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(17,ge)),e.xp6(4),e.Q6J("routerLink",e.DdM(18,de)),e.xp6(2),e.Q6J("ngIf",1==t.is_pending_account_verification),e.xp6(7),e.Q6J("routerLink",e.DdM(19,ue))}},dependencies:[l.O5,l.tP,l.PC,p.yS,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,x.lW],styles:[".logo.footer-logo[_ngcontent-%COMP%]{background-color:#cca354;border-radius:4px;width:150px}.logo.footer-logo[_ngcontent-%COMP%]   .logo-slogan[_ngcontent-%COMP%]{background:#f3c262;color:#000;border-radius:0 0 4px 4px}.logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.2rem;font-family:verdana;font-weight:600;text-align:center}.logo[_ngcontent-%COMP%]   .logo-slogan[_ngcontent-%COMP%]{text-align:center;font-size:.6rem;font-family:verdana}"]}),o})();const fe=JSON.parse('{"type":"object","properties":{"name":{"type":"string","minLength":1,"errorMessage":{"minLength":"Name is required."}},"email":{"type":"string","format":"email","minLength":3,"errorMessage":{"format":"Invalid email format.","minLength":"Email is required."}},"phone_number":{"type":"string","pattern":"^(\\\\+91[\\\\-\\\\s]?)?[0]?(91)?[6789]\\\\d{9}$","errorMessage":{"pattern":"Invalid phone number format."}},"password":{"type":"string","minLength":2,"errorMessage":{"minLength":"Password is required."}},"cpassword":{"type":"string","const":{"$data":"1/password"},"errorMessage":{"const":"Passwords do not match."}},"parent_code":{"type":"string"},"is_terms_accepted":{"type":"boolean","const":true,"errorMessage":{"const":"Accept terms and conditions & law"}}},"required":["name","email","phone_number","password","cpassword","is_terms_accepted"],"additionalProperties":true}');var he=a.t(fe,2),S=a(9991),ve=a(6709);function be(o,i){1&o&&e.GkF(0)}function Te(o,i){1&o&&e.GkF(0)}function xe(o,i){1&o&&e.GkF(0)}function ye(o,i){1&o&&e.GkF(0)}function Ze(o,i){1&o&&e.GkF(0)}function we(o,i){1&o&&e.GkF(0)}function Ce(o,i){1&o&&e.GkF(0)}const q=function(){return{"background-image":"url(./assets/images/bg/login-bg.png)"}},Me=function(){return{key:"/otp"}},U=function(){return["/auth/login"]};function Ae(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"div",41)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"h2",13),e._uU(7,"Welcome to "),e.TgZ(8,"span",15),e._uU(9),e.qZA()(),e.TgZ(10,"p"),e._uU(11,"we have sent you an OTP (One-Time Password) via email. Please check your email inbox, including the spam folder, to retrieve the OTP."),e.qZA()(),e.TgZ(12,"div",16)(13,"h3",17),e._uU(14,"Verify an Account"),e.qZA(),e.TgZ(15,"form",18,19)(17,"div",20)(18,"label"),e._uU(19,"One Time Password (OTP)"),e.qZA(),e.TgZ(20,"input",42),e.NdJ("ngModelChange",function(r){e.CHM(n);const s=e.oxw();return e.KtG(s.verifyForm.otp=r)}),e.qZA(),e.YNc(21,Ce,1,0,"ng-container",22),e.qZA(),e.TgZ(22,"div",29)(23,"div",30)(24,"span",33),e._uU(25," Don't get OTP? "),e.TgZ(26,"a",43),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.resendOTP())}),e._uU(27,"Resend OTP"),e.qZA()()()(),e.TgZ(28,"div",35)(29,"button",36),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.verifyOTP())}),e._uU(30,"Verify Account"),e.qZA(),e.TgZ(31,"p",37),e._uU(32,"Haven't an account? "),e.TgZ(33,"a",38),e._uU(34,"Login"),e.qZA()()()()()()()()()()}if(2&o){const n=e.oxw(),t=e.MAs(72);e.xp6(5),e.Q6J("ngStyle",e.DdM(8,q)),e.xp6(4),e.Oqu(n.constant.appName),e.xp6(11),e.ekj("border-red-500",n.errors["/otp"]),e.Q6J("ngModel",n.verifyForm.otp),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(9,Me)),e.xp6(12),e.Q6J("routerLink",e.DdM(10,U))}}function ke(o,i){if(1&o&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&o){const n=e.oxw().key,t=e.oxw();e.xp6(1),e.hij(" ",t.errors[n]," ")}}function Oe(o,i){if(1&o&&e.YNc(0,ke,2,1,"div",44),2&o){const n=i.key,t=e.oxw();e.Q6J("ngIf",t.errors&&t.errors[n])}}const Pe=function(){return{key:"/name"}},Je=function(){return{key:"/email"}},Se=function(){return{key:"/phone_number"}},qe=function(){return{key:"/password"}},Ue=function(){return{key:"/cpassword"}},Fe=function(){return{key:"/is_terms_accepted"}},A=new(f())({$data:!0,allErrors:!0});v()(A),h()(A);const k=A.compile(he);let Ne=(()=>{class o{constructor(n,t,r,s,g){this.authService=n,this._snackbarService=t,this._purchaseService=r,this.router=s,this.loader=g,this.constant=u.s,this._unsubscribeAll=new _.x,this.planList=[],this.form={name:"",email:"",phone_number:"",password:"",cpassword:"",parent_code:"",is_terms_accepted:!1},this.verifyForm={otp:""},this.isSignupDone=!1,this.errors={}}ngOnInit(){this.getPlanList()}getPlanList(){this._purchaseService.getPlans().pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{if(n){const{result:t}=n;this.planList=t}})}signup(){try{k(this.form)?(this.loader.open(),this.errors={},delete Object.assign({},this.form).cpassword,this.authService.signup(this.form).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{if(r){const{result:s}=r;s&&(this.isSignupDone=!0)}this.loader.close()},r=>{console.log("error",r),r?.error?.message&&this._snackbarService.showError(r?.error?.message,"",6),this.loader.close()})):(this.errors={},console.log("validator.errors",k.errors),k.errors?.map(t=>{this.errors[t.instancePath]=t.message}),this._snackbarService.showError("Please enter a valid details."))}catch(n){this._snackbarService.showError(n.message)}}resendOTP(){this.loader.open(),this.authService.resendOTP(this.form.email).pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{if(n){const{message:t}=n;this._snackbarService.showInfo(t)}this.loader.close()},n=>{console.log("error",n),n?.error?.message&&this._snackbarService.showError(n?.error?.message,"",6),this.loader.close()})}verifyOTP(){this.verifyForm.otp&&null!=this.verifyForm.otp&&null!=this.verifyForm.otp&&""!=this.verifyForm.otp&&(this.loader.open(),this.authService.verifyOTP(this.form.email,this.verifyForm.otp).pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{if(n){const{message:t}=n;this.loader.close(),this.router.navigate(this.form.package&&this.form.package.plan_id?[`/dashboard/plans?planId=${this.form.package.plan_id}`]:["/dashboard/home"]),this._snackbarService.showSuccess(t)}},n=>{console.log("error",n),n?.error?.message&&this._snackbarService.showError(n?.error?.message,"",6),this.loader.close()}))}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(b.e),e.Y36(T.o),e.Y36(S.B),e.Y36(p.F0),e.Y36(C.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-signup"]],decls:73,vars:42,consts:[[1,"full-wh"],[1,"bg-animation"],["id","stars"],["id","stars2"],["id","stars3"],["id","stars4"],[1,"page-wrapper"],["data-background","assets/images/bg/bg-5.jpg","id","Signup",1,"account-section","bg_img",3,"hidden"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-5","col-lg-7"],[1,"account-card"],[1,"account-card__header","bg_img","overlay--one",3,"ngStyle"],[1,"section-title"],["href","../index.html"],[1,"base--color"],[1,"account-card__body"],[1,"text-center"],[1,"mt-4"],["f","ngForm"],[1,"form-group","relative"],["type","text","id","name","placeholder","Enter full name","name","username",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","email","id","mlm-email","placeholder","Enter email address","name","mlm-email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","phone_number","placeholder","Enter mobile number","name","phone",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","mlm-password","placeholder","Enter password","name","mpm-pwd",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["type","password","name","cpwd","placeholder","Enter confirm password",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Optional","name","ref",1,"form-control",3,"ngModel","ngModelChange"],["id","is_terms_accepted",1,"form-group","mb-[35px]","relative"],[1,"flex","items-center"],["color","primary","name","isTermsAccepted",1,"mb-0","text-sm",3,"ngModel","ngModelChange"],["terms",""],[1,"text-sm","cursor-pointer","ml-[3px]"],["href","../terms-and-condition/index.html",1,"text-primary","font-bold"],[1,"form-group","flex","items-center","justify-between","mt-[35px]"],["mat-flat-button","","color","primary",1,"px-[35px]","py-[7px]",3,"click"],[1,"text-md"],[1,"base--color",3,"routerLink"],["class","account-section bg_img","data-background","assets/images/bg/bg-5.jpg","id","Verify-OTP",4,"ngIf"],["errorTemplate",""],["data-background","assets/images/bg/bg-5.jpg","id","Verify-OTP",1,"account-section","bg_img"],["type","text","id","name","placeholder","Enter one time password","name","otp",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-primary","font-bold",3,"click"],["class","text-red-500 text-[10px] absolute",4,"ngIf"],[1,"text-red-500","text-[10px]","absolute"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"h2",13),e._uU(14,"Welcome to "),e.TgZ(15,"a",14)(16,"span",15),e._uU(17),e.qZA()()(),e.TgZ(18,"p"),e._uU(19,"Grow your business and track Your earnings. Connect your customers with us and earn more."),e.qZA()(),e.TgZ(20,"div",16)(21,"h3",17),e._uU(22,"Create an Account"),e.qZA(),e.TgZ(23,"form",18,19)(25,"div",20)(26,"label"),e._uU(27,"Full Name"),e.qZA(),e.TgZ(28,"input",21),e.NdJ("ngModelChange",function(s){return t.form.name=s}),e.qZA(),e.YNc(29,be,1,0,"ng-container",22),e.qZA(),e.TgZ(30,"div",20)(31,"label"),e._uU(32,"Email Address"),e.qZA(),e.TgZ(33,"input",23),e.NdJ("ngModelChange",function(s){return t.form.email=s}),e.qZA(),e.YNc(34,Te,1,0,"ng-container",22),e.qZA(),e.TgZ(35,"div",20)(36,"label"),e._uU(37,"Mobile Number"),e.qZA(),e.TgZ(38,"input",24),e.NdJ("ngModelChange",function(s){return t.form.phone_number=s}),e.qZA(),e.YNc(39,xe,1,0,"ng-container",22),e.qZA(),e.TgZ(40,"div",20)(41,"label"),e._uU(42,"Password"),e.qZA(),e.TgZ(43,"input",25),e.NdJ("ngModelChange",function(s){return t.form.password=s}),e.qZA(),e.YNc(44,ye,1,0,"ng-container",22),e.qZA(),e.TgZ(45,"div",26)(46,"label"),e._uU(47,"Confirm Password"),e.qZA(),e.TgZ(48,"input",27),e.NdJ("ngModelChange",function(s){return t.form.cpassword=s}),e.qZA(),e.YNc(49,Ze,1,0,"ng-container",22),e.qZA(),e.TgZ(50,"div",26)(51,"label"),e._uU(52,"Referral Code"),e.qZA(),e.TgZ(53,"input",28),e.NdJ("ngModelChange",function(s){return t.form.parent_code=s}),e.qZA()(),e.TgZ(54,"div",29)(55,"div",30)(56,"mat-checkbox",31,32),e.NdJ("ngModelChange",function(s){return t.form.is_terms_accepted=s}),e._uU(58," I agree to the "),e.qZA(),e.TgZ(59,"span",33)(60,"a",34),e._uU(61," Terms, Conditions & Law"),e.qZA()()(),e.YNc(62,we,1,0,"ng-container",22),e.qZA(),e.TgZ(63,"div",35)(64,"button",36),e.NdJ("click",function(){return t.signup()}),e._uU(65,"SignUp Now"),e.qZA(),e.TgZ(66,"p",37),e._uU(67,"Haven't an account? "),e.TgZ(68,"a",38),e._uU(69,"Login"),e.qZA()()()()()()()()()(),e.YNc(70,Ae,35,11,"div",39),e.qZA(),e.YNc(71,Oe,1,1,"ng-template",null,40,e.W1O)),2&n){const r=e.MAs(72);e.xp6(7),e.Q6J("hidden",t.isSignupDone),e.xp6(5),e.Q6J("ngStyle",e.DdM(34,q)),e.xp6(5),e.Oqu(t.constant.appName),e.xp6(11),e.ekj("border-red-500",t.errors["/name"]),e.Q6J("ngModel",t.form.name),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(35,Pe)),e.xp6(4),e.ekj("border-red-500",t.errors["/email"]),e.Q6J("ngModel",t.form.email),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(36,Je)),e.xp6(4),e.ekj("border-red-500",t.errors["/phone_number"]),e.Q6J("ngModel",t.form.phone_number),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(37,Se)),e.xp6(4),e.ekj("border-red-500",t.errors["/password"]),e.Q6J("ngModel",t.form.password),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(38,qe)),e.xp6(4),e.ekj("border-red-500",t.errors["/cpassword"]),e.Q6J("ngModel",t.form.cpassword),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(39,Ue)),e.xp6(4),e.Q6J("ngModel",t.form.parent_code),e.xp6(3),e.Q6J("ngModel",t.form.is_terms_accepted),e.xp6(6),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(40,Fe)),e.xp6(6),e.Q6J("routerLink",e.DdM(41,U)),e.xp6(2),e.Q6J("ngIf",t.isSignupDone)}},dependencies:[l.O5,l.tP,l.PC,p.yS,ve.oG,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,x.lW]}),o})();const Le=JSON.parse('{"type":"object","properties":{"email":{"type":"string","format":"email","minLength":3,"errorMessage":{"format":"Invalid email format.","minLength":"Email is required."}},"otp":{"type":["string","number"],"minLength":2,"errorMessage":{"minLength":"OTP is required."}}},"required":["email","otp"]}');var je=a.t(Le,2);function Ee(o,i){1&o&&e.GkF(0)}function Qe(o,i){1&o&&e.GkF(0)}function Ye(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"span",25),e._uU(1," Don't get OTP? "),e.TgZ(2,"a",26),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.resendOTP())}),e._uU(3,"Resend OTP"),e.qZA()()}}function Ie(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.resendOTP())}),e._uU(1,"Get OTP"),e.qZA()}}function De(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.verifyOTP())}),e._uU(1,"Verify Account"),e.qZA()}}function Ge(o,i){if(1&o&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&o){const n=e.oxw().key,t=e.oxw();e.xp6(1),e.hij(" ",t.errors[n]," ")}}function Ve(o,i){if(1&o&&e.YNc(0,Ge,2,1,"div",28),2&o){const n=i.key,t=e.oxw();e.Q6J("ngIf",t.errors&&t.errors[n])}}const Re=function(){return{"background-image":"url(./assets/images/bg/login-bg.png)"}},He=function(){return{key:"/email"}},We=function(){return{key:"/otp"}},Ke=function(){return["/auth/login"]},O=new(f())({$data:!0,allErrors:!0});v()(O),h()(O);const y=O.compile(je),$e=[{path:"login",canActivate:[d.J],pathMatch:"full",component:_e},{path:"verify-account",canActivate:[d.J],pathMatch:"full",component:(()=>{class o{constructor(n,t,r,s,g){this.authService=n,this._snackbarService=t,this._purchaseService=r,this.router=s,this.loader=g,this.form={email:"",otp:""},this.constant=u.s,this._unsubscribeAll=new _.x,this.errors={},this.sendMailFlag=!1}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}resendOTP(){this.form.email&&this.form.email.length>0?(this.loader.open(),this.authService.resendOTP(this.form.email).pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{if(n){const{message:t}=n;this.sendMailFlag=!0,this._snackbarService.showInfo(t)}this.loader.close()},n=>{console.log("error",n),n?.error?.message&&this._snackbarService.showError(n?.error?.message,"",6),this.loader.close()})):this._snackbarService.showInfo("Email is required.")}verifyOTP(){const n=y(this.form);console.log(n,y.errors),n?(this.errors={},this.loader.open(),this.authService.verifyOTP(this.form.email,this.form.otp).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{if(t){const{message:r}=t;this.loader.close(),this.router.navigate(["/auth/login"]),this._snackbarService.showSuccess(r)}},t=>{console.log("error",t),t?.error?.message&&this._snackbarService.showError(t?.error?.message,"",6),this.loader.close()})):(this.errors={},console.log("validator.errors",y.errors),y.errors?.map(t=>{this.errors[t.instancePath]=t.message}),this._snackbarService.showError("Please enter a valid details."))}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(b.e),e.Y36(T.o),e.Y36(S.B),e.Y36(p.F0),e.Y36(C.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-verify-account"]],decls:40,vars:20,consts:[["data-background","assets/images/bg/bg-5.jpg","id","Verify-OTP",1,"account-section","bg_img"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-5","col-lg-7"],[1,"account-card"],[1,"account-card__header","bg_img","overlay--one",3,"ngStyle"],[1,"section-title"],["href","../index.html"],[1,"base--color"],[1,"account-card__body"],[1,"text-center"],[1,"mt-4"],["f","ngForm"],[1,"form-group","relative"],["type","email","id","mlm-email","placeholder","Enter email address","name","mlm-email",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","id","name","placeholder","Enter one time password","name","otp",1,"form-control",3,"ngModel","ngModelChange"],["id","is_terms_accepted",1,"form-group","mb-[35px]","relative"],[1,"flex","items-center"],["class","text-sm cursor-pointer ml-[3px]",4,"ngIf"],[1,"form-group","flex","items-center","justify-between","mt-[35px]"],["mat-flat-button","","color","primary","class","px-[35px] py-[7px]",3,"click",4,"ngIf"],[1,"text-md"],[1,"base--color",3,"routerLink"],["errorTemplate",""],[1,"text-sm","cursor-pointer","ml-[3px]"],[1,"text-primary","font-bold",3,"click"],["mat-flat-button","","color","primary",1,"px-[35px]","py-[7px]",3,"click"],["class","text-red-500 text-[10px] absolute",4,"ngIf"],[1,"text-red-500","text-[10px]","absolute"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),e._uU(7,"Welcome to "),e.TgZ(8,"a",7)(9,"span",8),e._uU(10),e.qZA()()(),e.TgZ(11,"p"),e._uU(12,"we have sent you an OTP (One-Time Password) via email. Please check your email inbox, including the spam folder, to retrieve the OTP."),e.qZA()(),e.TgZ(13,"div",9)(14,"h3",10),e._uU(15,"Verify an Account"),e.qZA(),e.TgZ(16,"form",11,12)(18,"div",13)(19,"label"),e._uU(20,"Email Address"),e.qZA(),e.TgZ(21,"input",14),e.NdJ("ngModelChange",function(s){return t.form.email=s}),e.qZA(),e.YNc(22,Ee,1,0,"ng-container",15),e.qZA(),e.TgZ(23,"div",13)(24,"label"),e._uU(25,"One Time Password (OTP)"),e.qZA(),e.TgZ(26,"input",16),e.NdJ("ngModelChange",function(s){return t.form.otp=s}),e.qZA(),e.YNc(27,Qe,1,0,"ng-container",15),e.qZA(),e.TgZ(28,"div",17)(29,"div",18),e.YNc(30,Ye,4,0,"span",19),e.qZA()(),e.TgZ(31,"div",20),e.YNc(32,Ie,2,0,"button",21),e.YNc(33,De,2,0,"button",21),e.TgZ(34,"p",22),e._uU(35,"Haven't an account? "),e.TgZ(36,"a",23),e._uU(37,"Login"),e.qZA()()()()()()()()()(),e.YNc(38,Ve,1,1,"ng-template",null,24,e.W1O)),2&n){const r=e.MAs(39);e.xp6(5),e.Q6J("ngStyle",e.DdM(16,Re)),e.xp6(5),e.Oqu(t.constant.appName),e.xp6(11),e.ekj("border-red-500",t.errors["/email"]),e.Q6J("ngModel",t.form.email),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(17,He)),e.xp6(4),e.ekj("border-red-500",t.errors["/otp"]),e.Q6J("ngModel",t.form.otp),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.DdM(18,We)),e.xp6(3),e.Q6J("ngIf",t.sendMailFlag),e.xp6(2),e.Q6J("ngIf",!t.sendMailFlag),e.xp6(1),e.Q6J("ngIf",t.sendMailFlag),e.xp6(3),e.Q6J("routerLink",e.DdM(19,Ke))}},dependencies:[l.O5,l.tP,l.PC,p.yS,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,x.lW]}),o})()},{path:"signup",pathMatch:"full",canActivate:[d.J],component:Ne},{path:"forgot-password",pathMatch:"full",canActivate:[d.J],component:te},{path:"**",pathMatch:"full",redirectTo:"login"}];let ze=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild($e),p.Bz]}),o})();var Xe=a(4326);let et=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.ez,ze,Xe.m]}),o})()}}]);